<html>
    <head>
        <title>helm Basics</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    </head>
    <body>
        <button onclick="togglediv('Index')" style="background-color: Transparent; border: none;">Helm</button>
        <code>code</code>
        <div style="width: 100%;">
            <div id="Index" style="float: left; width: 25%; border-right: 1px solid; border-radius: 5px; overflow: scroll; height: 100%;"></div>
            <div id="Main" style="float: left; width: 70%; margin-left: 10px; border-radius: 5px; overflow: scroll; height: 100%;"></div>
        </div>
    </body>
    <script>
        $.ajax({
            url: "https://ag143.github.io/Json/devops/helm.txt",
            async: false,
            success: function (data) {
                var dataobject = data;
                var output1 = "";
                var indexContent = "";
                var mainContent = "";
                var counter = 0;
                var codestart = false;
                //console.log("started---->"+dataobject);
                lineoutput = dataobject.split("\n");
                for (var x = 0; x < lineoutput.length; x++) {
                    if (lineoutput[x].startsWith("=~~~")) {
                        codestart = true;
						mainContent = mainContent + "<code style=background-color:blue;><p>";
                    } else if (lineoutput[x].startsWith("~~~") && codestart == true ) {
                        codestart = false;
						mainContent = mainContent + "</p></code>"
                    } else if (lineoutput[x].startsWith(">")) {
                        mainContent = mainContent + lineoutput[x].replace(/>/g, "")  + lineoutput[x].replace(/>/g, "") + "<br>";
                    } else if (lineoutput[x].startsWith("@")) {
                        mainContent = mainContent + "<h3 id=" + lineoutput[x].replace(/@/g, "").replace(/\s/g, "_") + ">" + lineoutput[x].replace(/@/g, "").replace(/\s/g, "_") + "</h3><br>";
                        indexContent = indexContent + "<li><a href=#" + lineoutput[x].replace(/@/g, "").replace(/\s/g, "_") + ">" + lineoutput[x].replace(/@/g, "").replace(/\s/g, "_") + "</a></li>";
                    } else if (lineoutput[x].startsWith(" ") && codestart == false) {
                        mainContent = mainContent +  lineoutput[x].replace(/\s/g, "&nbsp")  + lineoutput[x].replace(/\s/g, "&nbsp") + "<br>";
                        //indexContent = indexContent + "<li><a href=#" + lineoutput[x].replace(/\s/g, "_") + ">" + lineoutput[x].replace(/\s/g, "_") + "</a></li>";
                    }else {
                        mainContent = mainContent + lineoutput[x].replace(/@/g, "") + "<br>";
                    }
                    //console.log("output-->"+lineoutput[x]);
                    //mainContent = mainContent + lineoutput[x]+"<br>";
                }

                document.getElementById("Index").innerHTML = indexContent;
                document.getElementById("Main").innerHTML = mainContent;
            },
        });
    </script>
</html>
